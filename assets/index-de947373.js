import{j as e,r as g,a as Q}from"./react-00db08bf.js";import{c as Z}from"./react-dom-a3d1ea1f.js";import{N as V,L as U,B as ee}from"./react-router-dom-da58b198.js";import{M as D,H as te,D as se,C as j,B as x,R as ne,a as A,b as M,L as b,A as re,T as oe,c as ie,F as E,I as ae,S as L,P as ce,d as z,e as q,f as le,m as k,g as de,h as me}from"./antd-4b36b793.js";import{D as ue,y as xe,z as H}from"./@ant-design-12de479f.js";import{e as he,f as I}from"./react-router-cd04f563.js";import"./classnames-cee3b7bb.js";import"./scheduler-765c72db.js";import"./@remix-run-21e32b7b.js";import"./rc-util-7b686e84.js";import"./@babel-3e973216.js";import"./react-is-e5978b8b.js";import"./rc-resize-observer-9b0f7ff6.js";import"./resize-observer-polyfill-0f9f8adb.js";import"./rc-motion-c0cfda94.js";import"./@rc-component-415d57ed.js";import"./rc-overflow-a40a59d2.js";import"./rc-tabs-4292c127.js";import"./rc-dropdown-4787d021.js";import"./rc-menu-d10600ad.js";import"./rc-select-95006f2c.js";import"./rc-virtual-list-2144575c.js";import"./rc-field-form-e16f1246.js";import"./scroll-into-view-if-needed-448e2d96.js";import"./compute-scroll-into-view-dd0749eb.js";import"./rc-dialog-410aaeda.js";import"./rc-pagination-bbf38588.js";import"./throttle-debounce-87e7e444.js";import"./rc-notification-de8dcb4c.js";import"./rc-tooltip-d1964ef4.js";import"./rc-picker-0bd60a3a.js";import"./rc-textarea-b2d01384.js";import"./rc-input-1f58169b.js";import"./copy-to-clipboard-196009f6.js";import"./toggle-selection-93f4ad84.js";import"./@emotion-c0b5c018.js";import"./stylis-9f03583a.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const m of r)if(m.type==="childList")for(const y of m.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&i(y)}).observe(document,{childList:!0,subtree:!0});function o(r){const m={};return r.integrity&&(m.integrity=r.integrity),r.referrerPolicy&&(m.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?m.credentials="include":r.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function i(r){if(r.ep)return;r.ep=!0;const m=o(r);fetch(r.href,m)}})();const pe=()=>e.jsx("footer",{className:"bg-gray-800 text-white py-6",children:e.jsx("div",{className:"container mx-auto text-center",children:e.jsx("p",{children:"© 2025 React Vite AntD 项目"})})}),fe=e.jsxs(D,{children:[e.jsx(D.Item,{children:e.jsx(V,{to:"/",children:"首页"})},"home"),e.jsx(D.Item,{children:e.jsx(V,{to:"/about",children:"关于"})},"about")]}),ge=()=>e.jsx(te,{className:"bg-white shadow-md z-10",children:e.jsx("div",{className:"container mx-auto",children:e.jsx("div",{className:"flex justify-between items-center",children:e.jsx(se,{overlay:fe,trigger:["click"],children:e.jsxs("a",{onClick:t=>t.preventDefault(),children:["菜单 ",e.jsx(ue,{})]})})})})}),je=()=>e.jsxs("div",{className:"space-y-8",children:[e.jsx(j,{title:"欢迎来到我的网站",bordered:!1,className:"shadow-lg rounded-xl",extra:e.jsx(x,{type:"primary",children:"了解更多"}),children:e.jsx("p",{className:"text-lg text-gray-700",children:"这是一个使用 React、Vite 和 Ant Design 构建的示例网站"})}),e.jsxs(ne,{gutter:16,children:[e.jsx(A,{xs:24,sm:12,md:8,children:e.jsx(j,{hoverable:!0,cover:e.jsx("div",{className:"bg-blue-100 h-48 rounded-t-lg flex items-center justify-center",children:e.jsx(xe,{className:"text-6xl text-blue-500"})}),actions:[e.jsx(x,{type:"link",children:e.jsx(U,{to:"/feature1",children:"点我进入选择器"})})],children:e.jsx(j.Meta,{title:"选择器功能",description:"提供自定义随机选择功能"})})}),e.jsx(A,{xs:24,sm:12,md:8,children:e.jsx(j,{hoverable:!0,cover:e.jsx("div",{className:"bg-green-100 h-48 rounded-t-lg flex items-center justify-center",children:e.jsx(H,{className:"text-6xl text-green-500"})}),actions:[e.jsx(x,{type:"link",children:e.jsx(U,{to:"/design-studio",children:"进入室内设计画图制作室"})})],children:e.jsx(j.Meta,{title:"设计图工作室",description:"用来做设计"})})}),e.jsx(A,{xs:24,sm:12,md:8,children:e.jsx(j,{hoverable:!0,cover:e.jsx("div",{className:"bg-purple-100 h-48 rounded-t-lg flex items-center justify-center",children:e.jsx(H,{className:"text-6xl text-purple-500"})}),children:e.jsx(j.Meta,{title:"功能三",description:"这里是功能三的描述信息"})})})]})]}),{Title:P,Paragraph:B}=oe,ye=()=>{const t=[{name:"张三",role:"前端开发",avatar:"https://picsum.photos/id/1005/200/200"},{name:"李四",role:"UI设计",avatar:"https://picsum.photos/id/1006/200/200"},{name:"王五",role:"产品经理",avatar:"https://picsum.photos/id/1012/200/200"}];return e.jsxs("div",{className:"max-w-3xl mx-auto space-y-8",children:[e.jsx(P,{level:2,children:"关于我们"}),e.jsx(B,{className:"text-lg leading-relaxed",children:"我们是一个专注于前端开发的小团队，致力于使用最新的技术栈构建高质量的用户界面。"}),e.jsx(M,{}),e.jsx(P,{level:3,children:"我们的团队"}),e.jsx(b,{itemLayout:"horizontal",dataSource:t,renderItem:s=>e.jsx(b.Item,{children:e.jsx(b.Item.Meta,{avatar:e.jsx(re,{src:s.avatar,alt:s.name}),title:s.name,description:s.role})})}),e.jsx(M,{}),e.jsx(P,{level:3,children:"联系我们"}),e.jsx(B,{children:"邮箱: contact@example.com"}),e.jsx(B,{children:"电话: +86 123 4567 8910"})]})},ve=()=>e.jsx(ie,{status:"404",title:"404",subTitle:"抱歉，你访问的页面不存在",extra:e.jsx(x,{type:"primary",children:e.jsx(U,{to:"/",children:"返回首页"})})}),we=t=>{const s=new Set(t.flatMap(o=>o.category));return Array.from(s)},Ce=({form:t,isEditing:s,onSubmit:o,optionList:i})=>e.jsxs(E,{form:t,name:"optionForm",onFinish:o,autoComplete:"off",children:[e.jsx(E.Item,{label:"选项内容",name:"content",rules:[{required:!0,message:"请输入选项内容"}],children:e.jsx(ae.TextArea,{rows:4,placeholder:"请输入选项内容"})}),e.jsx(E.Item,{label:"选项分类",name:"category",rules:[{required:!0,message:"请输入选项分类"}],children:e.jsx(L,{mode:"tags",style:{width:"100%"},placeholder:"请输入或选择分类，回车可新增",children:we(i).map(r=>e.jsx(L.Option,{value:r,children:r},r))})})]}),be=({optionList:t,onDelete:s,onEdit:o})=>e.jsxs(e.Fragment,{children:[e.jsx(M,{orientation:"left",children:"选项列表"}),e.jsx(b,{itemLayout:"horizontal",dataSource:t,renderItem:i=>e.jsx(b.Item,{actions:[e.jsx(ce,{title:"确定删除?",onConfirm:()=>s(i.id),children:e.jsx(x,{type:"link",danger:!0,children:"删除"})}),e.jsx(x,{type:"link",onClick:()=>o(i.id),children:"编辑"})],children:e.jsx(b.Item.Meta,{title:i.content,description:e.jsx(e.Fragment,{children:i.category.map(r=>e.jsx(z,{color:"green",children:r},r))})})})})]}),{Option:Ne}=L,X=(t,s)=>t.filter(o=>o.category.includes(s)).length,Y=t=>{const s=new Set(t.flatMap(o=>o.category));return Array.from(s)},Se=({optionList:t,selectedCategories:s,onCategorySelect:o})=>e.jsxs(e.Fragment,{children:[e.jsx(M,{orientation:"left",children:"选择分类"}),e.jsx(L,{mode:"multiple",style:{width:"100%"},placeholder:"请选择分类",onChange:o,value:s,children:Y(t).map(i=>e.jsxs(Ne,{value:i,children:[i," (",X(t,i),")"]},i))}),e.jsx(M,{orientation:"left",children:"分类统计"}),e.jsx("div",{className:"mb-8",children:Y(t).map(i=>e.jsxs(z,{color:"blue",children:[i," (",X(t,i),")"]},i))})]}),Ie=()=>{const[t]=E.useForm(),[s,o]=g.useState([]),[i,r]=g.useState(!1),[m,y]=g.useState(""),[O,C]=g.useState(!1),[N,a]=g.useState([]),[c,l]=g.useState(null),[p,h]=g.useState(null);g.useEffect(()=>{const n=localStorage.getItem("optionList");n&&o(JSON.parse(n))},[]);const v=n=>{localStorage.setItem("optionList",JSON.stringify(n))},R=n=>{if(i&&m){const d=s.map(u=>u.id===m?{...u,content:n.content,category:n.category}:u);o(d),v(d)}else{const d={id:Date.now().toString(),content:n.content,category:n.category};o([...s,d]),v([...s,d])}t.resetFields(),r(!1),y(""),C(!1)},w=n=>{const d=s.find(u=>u.id===n);d&&(t.setFieldsValue({content:d.content,category:d.category}),r(!0),y(n),C(!0))},S=n=>{const d=s.filter(u=>u.id!==n);o(d),v(d)},W=n=>{a(n)},$=()=>{if(N.length===0)return;let n=s.filter(f=>f.category.some(F=>N.includes(F)));if(n.length===0)return;p&&n.length>1&&(n=n.filter(f=>f.id!==p));const d=Math.floor(Math.random()*n.length),u=n[d];l(u),h(u.id)},K=()=>{localStorage.removeItem("optionList"),o([]),k.success("缓存已清空")},_=n=>{var u;const d=(u=n.target.files)==null?void 0:u[0];if(d){const f=new FileReader;f.onload=F=>{var J;try{const T=JSON.parse((J=F.target)==null?void 0:J.result);o(T),v(T),k.success("缓存已被文件内容覆盖")}catch{k.error("文件解析失败，请上传有效的 JSON 文件")}},f.readAsText(d)}},G=()=>{const n=JSON.stringify(s,null,2),d="data:application/json;charset=utf-8,"+encodeURIComponent(n),u="option_list.json",f=document.createElement("a");f.setAttribute("href",d),f.setAttribute("download",u),f.click()};return e.jsxs("div",{className:"max-w-4xl mx-auto py-8",children:[e.jsx(j,{title:"选项管理",bordered:!1,className:"mb-8 shadow-lg rounded-xl",children:e.jsxs(q,{direction:"vertical",size:"middle",style:{width:"100%"},children:[e.jsx(x,{type:"primary",onClick:()=>{t.resetFields(),r(!1),y(""),C(!0)},children:"添加选项"}),e.jsx(x,{color:"danger",variant:"solid",onClick:K,children:"清空缓存"}),e.jsx(x,{color:"default",variant:"solid",onClick:()=>{var n;return(n=document.getElementById("file-upload"))==null?void 0:n.click()},children:"上传文件覆盖缓存"}),e.jsx("input",{type:"file",id:"file-upload",style:{display:"none"},accept:".json",onChange:_}),e.jsx(x,{color:"cyan",variant:"solid",onClick:G,children:"导出缓存信息"})]})}),e.jsx(Se,{optionList:s,selectedCategories:N,onCategorySelect:W}),e.jsx(x,{type:"primary",style:{marginTop:"16px"},onClick:$,children:"随机选择"}),c&&e.jsxs(j,{title:"随机选择结果",bordered:!1,className:"mt-8 shadow-lg rounded-xl",children:[e.jsx("p",{children:c.content}),c.category.map(n=>e.jsx(z,{color:"green",children:n},n))]}),e.jsx(be,{optionList:s,onDelete:S,onEdit:w}),e.jsx(le,{title:i?"编辑选项":"添加选项",visible:O,onCancel:()=>C(!1),onOk:()=>t.submit(),okText:i?"更新":"添加",children:e.jsx(Ce,{form:t,isEditing:i,onSubmit:R,optionList:s})})]})},Me=()=>{const t=g.useRef(null),[s,o]=g.useState(!1),i=a=>{o(!0);const c=t.current;if(c){const l=c.getContext("2d");l&&(l.beginPath(),l.moveTo(a.nativeEvent.offsetX,a.nativeEvent.offsetY))}},r=a=>{if(!s)return;const c=t.current;if(c){const l=c.getContext("2d");l&&(l.lineTo(a.nativeEvent.offsetX,a.nativeEvent.offsetY),l.stroke())}},m=()=>{o(!1)},y=()=>{const a=t.current;if(a){const c=a.getContext("2d");c&&c.clearRect(0,0,a.width,a.height)}},O=()=>{const a=t.current;if(a){const c=a.toDataURL("image/png"),l=document.createElement("a");l.href=c,l.download="design.png",l.click()}},C=a=>{var p;const c=(p=a.target.files)==null?void 0:p[0];if(!c)return;const l=new FileReader;l.onload=function(h){var R;const v=new window.Image;v.onload=function(){const w=t.current;if(w){const S=w.getContext("2d");S&&(S.clearRect(0,0,w.width,w.height),S.drawImage(v,0,0,w.width,w.height),k.success("图片导入成功"))}},(R=h.target)!=null&&R.result&&(v.src=h.target.result)},l.readAsDataURL(c),a.target.value=""},N=()=>typeof window<"u"?Math.min(window.innerWidth-32,600):600;return e.jsx("div",{className:"max-w-3xl mx-auto py-8 px-2",children:e.jsxs(j,{title:"室内设计画图制作室",className:"shadow-lg rounded-xl",children:[e.jsx("canvas",{ref:t,width:N(),height:400,style:{border:"1px solid #ccc",background:"#fff",width:"100%",touchAction:"none"},onMouseDown:i,onMouseMove:r,onMouseUp:m,onMouseLeave:m,onTouchStart:a=>{const c=a.touches[0];if(!c)return;o(!0);const l=t.current;if(l){const p=l.getBoundingClientRect(),h=l.getContext("2d");h&&(h.beginPath(),h.moveTo(c.clientX-p.left,c.clientY-p.top))}},onTouchMove:a=>{if(!s)return;const c=a.touches[0];if(!c)return;const l=t.current;if(l){const p=l.getBoundingClientRect(),h=l.getContext("2d");h&&(h.lineTo(c.clientX-p.left,c.clientY-p.top),h.stroke())}},onTouchEnd:()=>o(!1)}),e.jsxs(q,{style:{marginTop:16},wrap:!0,children:[e.jsx(x,{onClick:y,children:"清空画布"}),e.jsx(x,{onClick:O,children:"导出图片"}),e.jsx(x,{onClick:()=>{var a;return(a=document.getElementById("import-img"))==null?void 0:a.click()},children:"导入图片"}),e.jsx("input",{id:"import-img",type:"file",accept:"image/*",style:{display:"none"},onChange:C})]}),e.jsx("p",{style:{marginTop:16,color:"#888"},children:"支持鼠标或手指绘制，支持导入/导出图片。"})]})})},Re=()=>e.jsx(de,{className:"flex-grow py-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs(he,{children:[e.jsx(I,{path:"/",element:e.jsx(je,{})}),e.jsx(I,{path:"/about",element:e.jsx(ye,{})}),e.jsx(I,{path:"/feature1",element:e.jsx(Ie,{})}),e.jsx(I,{path:"/design-studio",element:e.jsx(Me,{})}),e.jsx(I,{path:"*",element:e.jsx(ve,{})})]})})});function Ee(){return e.jsxs(me,{className:"min-h-screen flex flex-col",children:[e.jsx(ge,{}),e.jsx(Re,{}),e.jsx(pe,{})]})}Z.createRoot(document.getElementById("root")).render(e.jsx(Q.StrictMode,{children:e.jsx(ee,{basename:"/",children:e.jsx(Ee,{})})}));
